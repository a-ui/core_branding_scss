/**
 * STEP INDICATOR VARIABLES
 * -------------------------------------------------------------------
 */

.m-step-indicator {
  --step-indicator-square-size:                     var(--spacer);
  --step-indicator-square-color:                    var(--text-color-light);
  --step-indicator-square-bg-color:                 var(--bg-color-light);
  --step-indicator-square-border-color:             var(--border-color-dark);

  --step-indicator-square-active-color:             var(--theme1-400);
  --step-indicator-square-active-bg-color:          #{$white};
  --step-indicator-square-active-border-color:      var(--theme1-400);

  --step-indicator-square-completed-color:          #{$white};
  --step-indicator-square-completed-bg-color:       var(--theme1-400);
  --step-indicator-square-completed-border-color:   var(--theme1-400);

  --step-indicator-line-color:                      var(--border-color-dark);
  --step-indicator-line-active-color:               var(--border-color-dark);
  --step-indicator-line-completed-color:            var(--theme1-400);

  --step-indicator-label-color:                     var(--text-color-light);
  --step-indicator-label-active-color:              var(--text-color);
  --step-indicator-label-completed-color:           var(--text-color);
}

/**
 * STEP INDICATOR
 * -------------------------------------------------------------------
 */

.m-step-indicator {
  @extend %u-list-reset;

  display: flex;
  flex-wrap: wrap;

  li {
    counter-increment: steps;
    flex: 1 1 0;
    position: relative;

    &:last-child:after {
      content: none;
    }

    // The square
    &:before {
      align-items: center;
      background-color: var(--step-indicator-square-bg-color);
      border: var(--border-width) solid var(--step-indicator-square-border-color);
      color: var(--step-indicator-square-color);
      content: counter(steps);
      display: flex;
      font-size: 1rem;
      height: var(--step-indicator-square-size);
      justify-content: center;
      margin-bottom: var(--spacer-xxs);
      width: var(--step-indicator-square-size);
    }

    // The connection line
    &:after {
      background-color: var(--step-indicator-line-color);
      content: "";
      height: var(--border-width);
      left: var(--step-indicator-square-size);
      position: absolute;
      top: calc(var(--step-indicator-square-size) / 2 - var(--border-width) / 2);
      width: calc(100% - var(--step-indicator-square-size));
    }

    &.is-active {
      --step-indicator-square-color: var(--step-indicator-square-active-color);
      --step-indicator-square-bg-color: var(--step-indicator-square-active-bg-color);
      --step-indicator-square-border-color: var(--step-indicator-square-active-border-color);
      --step-indicator-line-color: var(--step-indicator-line-active-color);
      --step-indicator-label-color: var(--step-indicator-label-active-color);

      &:before {
        font-weight: var(--font-weight-bold);
      }

      .m-step-indicator__label {
        display: block;
        font-size: 1rem;
        font-weight: var(--font-weight-bold);
      }
    }

    &.is-completed {
      --step-indicator-square-color: var(--step-indicator-square-completed-color);
      --step-indicator-square-bg-color: var(--step-indicator-square-completed-bg-color);
      --step-indicator-square-border-color: var(--step-indicator-square-completed-border-color);
      --step-indicator-line-color: var(--step-indicator-line-completed-color);
      --step-indicator-label-color: var(--step-indicator-label-completed-color);

      &:before {
        font-weight: var(--font-weight-bold);
      }

      // @include at($screen-sm) {
      //   .m-step-indicator__label {
      //     display: block;
      //   }
      // }
    }
  }
}

/**
 * STEP INDICATOR ELEMENTS
 * -------------------------------------------------------------------
 */

.m-step-indicator__label {
  color: var(--step-indicator-label-color);
  display: none;
  font-size: .875rem;

  @include at($screen-sm) {
    display: block;
  }
}
